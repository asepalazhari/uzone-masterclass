(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2096],{17082:function(e,t,a){Promise.resolve().then(a.bind(a,48087))},48087:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return h}});var s=a(57437),i=a(2265),n=a(1881),r=a(80588),l=a(61415),u=a(71342),o=a(13565),c=a(71126),d=a(49135),p=a(47907),m=a(78465);function h(){let[e]=n.Z.useForm(),[t,a]=i.useState(!1),[h,f]=r.ZP.useMessage(),{data:b}=(0,c.useSession)(),v=(0,p.useRouter)(),g=async t=>{var s,i;t.description="-",t.id_user=(null==b?void 0:null===(s=b.user)||void 0===s?void 0:s.userId)||1,t.id_course="",t.content=t.article.level.content,delete t.article,a(!0);let n=await (0,d.Z)("POST","".concat("https://sun.uzone.id/masterclass/","api/v1/cms/articles/"),t,{application:"application/json",Authorization:"Bearer ".concat(null==b?void 0:null===(i=b.user)||void 0===i?void 0:i.access_token)});201==n.status?(h.open({type:"success",content:n.data.message}),e.resetFields(),v.push("/dashboard/post/list")):h.open({type:"error",content:"Failed to insert data ".concat(n.data.message)}),a(!1)};return(0,s.jsxs)(s.Fragment,{children:[f,(0,s.jsxs)(n.Z,{name:"basic",layout:"vertical",onFinish:g,autoComplete:"off",form:e,children:[(0,s.jsx)(n.Z.Item,{label:"Title",name:"title",rules:[{required:!0,message:"Please input title"}],children:(0,s.jsx)(l.default,{placeholder:"Title",size:"large"})}),(0,s.jsx)(n.Z.Item,{label:"Status",name:"status",rules:[{required:!0,message:"Please select status"}],children:(0,s.jsx)(u.Z,{placeholder:"Select a status",options:[{value:"draft",label:"Draft"},{value:"published",label:"Publish"}]})}),(0,s.jsx)(n.Z.Item,{name:"article",label:"Content",rules:[{required:!0,message:"Please input the description!"}],children:(0,s.jsx)(m.M,{apiKey:"puaipze74ni4pucyjs2focxvcammbemiij54ctzllq9ckfbd",init:{height:400,branding:!1,menubar:!1,plugins:["advlist autolink lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table paste code help wordcount"],toolbar:"undo redo | formatselect | bold italic backcolor | aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat"},onEditorChange:t=>{e.setFieldsValue({content:t})}})}),(0,s.jsx)(n.Z.Item,{children:(0,s.jsx)(o.ZP,{loading:t,type:"primary",htmlType:"submit",danger:!0,children:"Submit"})})]})]})}},49135:function(e,t,a){"use strict";a.d(t,{Z:function(){return i}});var s=a(73107);async function i(e,t,a,i){try{return await (0,s.Z)("GET"==e?{validateStatus:()=>!1,method:e,headers:i,url:t,params:a}:{validateStatus:()=>!1,method:e,headers:i,url:t,data:a}).catch(e=>e.response)}catch(e){return{data:e,status:500,statusText:"Internal Server Error",headers:{},config:{}}}}}},function(e){e.O(0,[9098,429,1126,2698,1537,3565,1618,6624,588,3107,1881,1342,6478,2971,8069,1744],function(){return e(e.s=17082)}),_N_E=e.O()}]);