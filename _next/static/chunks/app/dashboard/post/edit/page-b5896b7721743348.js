(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[898],{67028:function(e,t,a){Promise.resolve().then(a.bind(a,993))},993:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return h}});var s=a(57437),n=a(2265),i=a(1881),l=a(80588),r=a(61415),u=a(71342),o=a(13565),c=a(71126),d=a(49135),p=a(47907),m=a(78465);function h(){let[e]=i.Z.useForm(),[t,a]=n.useState(!1),[h,v]=n.useState(null),[f,b]=n.useState(""),[g,j]=l.ZP.useMessage(),{data:y}=(0,c.useSession)(),x=(0,p.useRouter)(),Z=(0,p.useSearchParams)(),k=n.useRef(null),S=async t=>{var s,n;a(!0),t.description="-",t.id_user=(null==y?void 0:null===(s=y.user)||void 0===s?void 0:s.userId)||1,t.id_course="-",t.content=f,t.id=Z.get("aa"),delete t.article;let i=await (0,d.Z)("PUT","".concat("https://sun.uzone.id/masterclass/","api/v1/cms/articles/"),t,{"Content-Type":"application/json",accept:"application/json",Authorization:"Bearer ".concat(null==y?void 0:null===(n=y.user)||void 0===n?void 0:n.access_token)});200==i.status?(g.open({type:"success",content:i.data.message}),e.resetFields(),x.push("/dashboard/post/list")):g.open({type:"error",content:"Failed to insert data"}),a(!1)};return n.useEffect(()=>{a(!0);let e=async()=>{var e;let t=await (0,d.Z)("GET","".concat("https://sun.uzone.id/masterclass/","api/v1/cms/articles/detail"),{id:Z.get("aa")},{accept:"application/json",Authorization:"Bearer ".concat(null==y?void 0:null===(e=y.user)||void 0===e?void 0:e.access_token)});a(!1),v(t.data.data),b(t.data.data.content)};y&&e()},[y,Z,e]),(0,s.jsxs)(s.Fragment,{children:[j,h?(0,s.jsxs)(i.Z,{name:"basic",layout:"vertical",onFinish:S,autoComplete:"off",initialValues:h,form:e,children:[(0,s.jsx)(i.Z.Item,{label:"Title",name:"title",rules:[{required:!0,message:"Please input title"}],children:(0,s.jsx)(r.default,{placeholder:"Title",size:"large"})}),(0,s.jsx)(i.Z.Item,{label:"Status",name:"status",rules:[{required:!0,message:"Please select status"}],children:(0,s.jsx)(u.Z,{placeholder:"Select a status",options:[{value:"draft",label:"Draft"},{value:"publish",label:"Publish"}]})}),(0,s.jsx)(m.M,{apiKey:"puaipze74ni4pucyjs2focxvcammbemiij54ctzllq9ckfbd",onInit:(e,t)=>k.current=t,value:f,onEditorChange:e=>{b(e)},init:{height:400,branding:!1,menubar:!1,plugins:["advlist autolink lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table paste code help wordcount"],toolbar:"undo redo | formatselect | bold italic backcolor | aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat"}}),(0,s.jsx)(i.Z.Item,{className:"!mt-5",children:(0,s.jsx)(o.ZP,{loading:t,type:"primary",htmlType:"submit",danger:!0,children:"Submit"})})]}):(0,s.jsx)("div",{children:"Loading..."})]})}},49135:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});var s=a(73107);async function n(e,t,a,n){try{return await (0,s.Z)("GET"==e?{validateStatus:()=>!1,method:e,headers:n,url:t,params:a}:{validateStatus:()=>!1,method:e,headers:n,url:t,data:a}).catch(e=>e.response)}catch(e){return{data:e,status:500,statusText:"Internal Server Error",headers:{},config:{}}}}}},function(e){e.O(0,[9098,429,1126,2698,1537,3565,1618,588,6624,3107,1881,1342,6478,2971,8069,1744],function(){return e(e.s=67028)}),_N_E=e.O()}]);