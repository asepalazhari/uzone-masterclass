(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[896],{88801:function(e,t,n){Promise.resolve().then(n.bind(n,12972))},92503:function(e,t,n){"use strict";n.d(t,{Z:function(){return Z}});var a=n(2265),i=n(20653),o=n(16480),r=n.n(o),l=n(44329),s=n(35704),c=n(57499),d=n(97676),u=n(91460),p=n(55614),m=n(13565),f=n(51350),g=n(70595),v=n(91657),h=n(63834),x=n(64872);let y=e=>{let{componentCls:t,iconCls:n,antCls:a,zIndexPopup:i,colorText:o,colorWarning:r,marginXXS:l,marginXS:s,fontSize:c,fontWeightStrong:d,colorTextHeading:u}=e;return{[t]:{zIndex:i,[`&${a}-popover`]:{fontSize:c},[`${t}-message`]:{marginBottom:s,display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${t}-message-icon ${n}`]:{color:r,fontSize:c,lineHeight:1,marginInlineEnd:s},[`${t}-title`]:{fontWeight:d,color:u,"&:only-child":{fontWeight:"normal"}},[`${t}-description`]:{marginTop:l,color:o}},[`${t}-buttons`]:{textAlign:"end",whiteSpace:"nowrap",button:{marginInlineStart:s}}}}};var b=(0,x.I$)("Popconfirm",e=>y(e),e=>{let{zIndexPopupBase:t}=e;return{zIndexPopup:t+60}},{resetStyle:!1}),j=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>t.indexOf(a)&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,a=Object.getOwnPropertySymbols(e);i<a.length;i++)0>t.indexOf(a[i])&&Object.prototype.propertyIsEnumerable.call(e,a[i])&&(n[a[i]]=e[a[i]]);return n};let E=e=>{let{prefixCls:t,okButtonProps:n,cancelButtonProps:o,title:l,description:s,cancelText:d,okText:h,okType:x="primary",icon:y=a.createElement(i.Z,null),showCancel:b=!0,close:j,onConfirm:E,onCancel:O,onPopupClick:C}=e,{getPrefixCls:Z}=a.useContext(c.E_),[S]=(0,g.Z)("Popconfirm",v.Z.Popconfirm),w=(0,p.Z)(l),N=(0,p.Z)(s);return a.createElement("div",{className:"".concat(t,"-inner-content"),onClick:C},a.createElement("div",{className:"".concat(t,"-message")},y&&a.createElement("span",{className:"".concat(t,"-message-icon")},y),a.createElement("div",{className:"".concat(t,"-message-text")},w&&a.createElement("div",{className:r()("".concat(t,"-title"))},w),N&&a.createElement("div",{className:"".concat(t,"-description")},N))),a.createElement("div",{className:"".concat(t,"-buttons")},b&&a.createElement(m.ZP,Object.assign({onClick:O,size:"small"},o),d||(null==S?void 0:S.cancelText)),a.createElement(u.Z,{buttonProps:Object.assign(Object.assign({size:"small"},(0,f.nx)(x)),n),actionFn:E,close:j,prefixCls:Z("btn"),quitOnNullishReturnValue:!0,emitEvent:!0},h||(null==S?void 0:S.okText))))};var O=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>t.indexOf(a)&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,a=Object.getOwnPropertySymbols(e);i<a.length;i++)0>t.indexOf(a[i])&&Object.prototype.propertyIsEnumerable.call(e,a[i])&&(n[a[i]]=e[a[i]]);return n};let C=a.forwardRef((e,t)=>{var n,o;let{prefixCls:u,placement:p="top",trigger:m="click",okType:f="primary",icon:g=a.createElement(i.Z,null),children:v,overlayClassName:h,onOpenChange:x,onVisibleChange:y}=e,j=O(e,["prefixCls","placement","trigger","okType","icon","children","overlayClassName","onOpenChange","onVisibleChange"]),{getPrefixCls:C}=a.useContext(c.E_),[Z,S]=(0,l.Z)(!1,{value:null!==(n=e.open)&&void 0!==n?n:e.visible,defaultValue:null!==(o=e.defaultOpen)&&void 0!==o?o:e.defaultVisible}),w=(e,t)=>{S(e,!0),null==y||y(e),null==x||x(e,t)},N=C("popconfirm",u),P=r()(N,h),[k]=b(N);return k(a.createElement(d.Z,Object.assign({},(0,s.Z)(j,["title"]),{trigger:m,placement:p,onOpenChange:(t,n)=>{let{disabled:a=!1}=e;a||w(t,n)},open:Z,ref:t,overlayClassName:P,content:a.createElement(E,Object.assign({okType:f,icon:g},e,{prefixCls:N,close:e=>{w(!1,e)},onConfirm:t=>{var n;return null===(n=e.onConfirm)||void 0===n?void 0:n.call(void 0,t)},onCancel:t=>{var n;w(!1,t),null===(n=e.onCancel)||void 0===n||n.call(void 0,t)}})),"data-popover-inject":!0}),v))});C._InternalPanelDoNotUseOrYouWillBeFired=e=>{let{prefixCls:t,placement:n,className:i,style:o}=e,l=j(e,["prefixCls","placement","className","style"]),{getPrefixCls:s}=a.useContext(c.E_),d=s("popconfirm",t),[u]=b(d);return u(a.createElement(h.ZP,{placement:n,className:r()(d,i),style:o,content:a.createElement(E,Object.assign({prefixCls:d},l))}))};var Z=C},12972:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return b}});var a=n(57437),i=n(2265),o=n(65270),r=n(6180),l=n(13565),s=n(92503),c=n(80588),d=n(88841),u=n(47867),p=n(49135),m=n(89539),f=n.n(m),g=n(71126),v=n(47907),h=n(28118),x=n(73107);function y(e){let{evidence:t,alt:n}=e,[o,r]=i.useState(!1),[s,c]=i.useState(""),{data:d}=(0,g.useSession)();return i.useEffect(()=>{let e=async()=>{try{var e;let n=(await x.Z.get("".concat("https://sun.uzone.id/masterclass/","api/v1/cms/media/show?filename=").concat(t),{responseType:"blob",headers:{Authorization:"Bearer ".concat(null==d?void 0:null===(e=d.user)||void 0===e?void 0:e.access_token)}})).data;if(n instanceof Blob){let e=URL.createObjectURL(n);c(e)}}catch(e){}};d&&o&&e()},[t,d,o]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.ZP,{className:"m-1",size:"small",onClick:()=>r(!0),children:"Show Video"}),(0,a.jsx)(h.Z,{title:"Video Preview",open:o,okText:"Close",footer:[(0,a.jsx)(l.ZP,{danger:!0,onClick:()=>r(!1),children:"Close"},"submit")],children:s?(0,a.jsxs)("video",{width:"100%",height:"300",controls:!0,children:[(0,a.jsx)("source",{src:s,type:"video/mp4"}),"Your browser does not support the video tag."]}):(0,a.jsx)(a.Fragment,{children:"Loading..."})})]})}function b(){let e=(0,v.useRouter)(),[t,n]=i.useState(0),m=[{title:"Title",dataIndex:"title"},{title:"Description",dataIndex:"description"},{title:"Video",dataIndex:"media_url",render:(e,t)=>{let{filename:n,title:i}=t;return(0,a.jsx)(a.Fragment,{children:n?(0,a.jsx)(y,{evidence:n,alt:i}):""})}},{title:"Created Date",dataIndex:"created_at",render:(e,t)=>{let{created_at:n}=t;return(0,a.jsx)(a.Fragment,{children:f()(n).format("DD MMM YYYY, hh:mm")})}},{title:"Action",key:"action",render:(t,n)=>(0,a.jsxs)(o.Z,{size:"middle",children:[(0,a.jsx)(r.Z,{title:"edit",children:(0,a.jsx)(l.ZP,{shape:"circle",onClick:()=>e.push("/dashboard/video/edit?aa=".concat(n.id)),icon:(0,a.jsx)(u.FNg,{className:"w-5 h-5 text-sky-700"})})}),(0,a.jsx)(r.Z,{title:"delete",children:(0,a.jsx)(s.Z,{title:"Delete data",placement:"left",description:"Are you sure to delete this data?",onConfirm:()=>w(n.id),okText:"Yes",cancelText:"No",children:(0,a.jsx)(l.ZP,{shape:"circle",icon:(0,a.jsx)(u.v_0,{className:"w-5 h-5 text-red-500"})})})})]})}],[h,x]=i.useState(),[b,j]=i.useState(!1),[E,O]=c.ZP.useMessage();(0,v.useSearchParams)();let[C,Z]=i.useState({pagination:{current:1,pageSize:10,total:0}}),{data:S}=(0,g.useSession)(),w=async e=>{var t;let a=await (0,p.Z)("DELETE","".concat("https://sun.uzone.id/masterclass/","api/v1/cms/media/"),{id:e},{accept:"application/json",Authorization:"Bearer ".concat(null==S?void 0:null===(t=S.user)||void 0===t?void 0:t.access_token)});E.open({type:"success",content:a.data.message}),n(Math.random())};return i.useEffect(()=>{let e=async()=>{var e;j(!0);let t=await (0,p.Z)("GET","".concat("https://sun.uzone.id/masterclass/","api/v1/cms/media/"),{page:C.pagination.current,limit:C.pagination.pageSize},{accept:"application/json",Authorization:"Bearer ".concat(null==S?void 0:null===(e=S.user)||void 0===e?void 0:e.access_token)});j(!1),x(t.data.data.media),Z({...C,pagination:{...C.pagination,total:t.data.data.total}})};S&&e()},[C.pagination.current,C.pagination.pageSize,t,S]),(0,a.jsxs)(a.Fragment,{children:[O,(0,a.jsx)(d.Z,{size:"small",columns:m,dataSource:h,loading:b,pagination:C.pagination,onChange:e=>{var t;Z({pagination:e}),e.pageSize!==(null===(t=C.pagination)||void 0===t?void 0:t.pageSize)&&x(null)},bordered:!0,footer:()=>"Total: ".concat(C.pagination.total||0),scroll:{x:"max-content"},className:"min-w-full"})]})}},49135:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var a=n(73107);async function i(e,t,n,i){try{return await (0,a.Z)("GET"==e?{validateStatus:()=>!1,method:e,headers:i,url:t,params:n}:{validateStatus:()=>!1,method:e,headers:i,url:t,data:n}).catch(e=>e.response)}catch(e){return{data:e,status:500,statusText:"Internal Server Error",headers:{},config:{}}}}}},function(e){e.O(0,[5104,9098,429,1126,2698,916,3565,1618,588,3107,577,8172,8118,6624,1342,2355,8841,2971,8069,1744],function(){return e(e.s=88801)}),_N_E=e.O()}]);