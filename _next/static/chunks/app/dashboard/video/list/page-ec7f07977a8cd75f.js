(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[896],{88801:function(e,t,a){Promise.resolve().then(a.bind(a,12972))},92503:function(e,t,a){"use strict";a.d(t,{Z:function(){return Z}});var n=a(2265),r=a(20653),o=a(16480),i=a.n(o),l=a(44329),s=a(35704),c=a(57499),d=a(97676),u=a(91460),p=a(55614),m=a(13565),f=a(51350),g=a(70595),v=a(91657),h=a(63834),x=a(78387);let y=e=>{let{componentCls:t,iconCls:a,antCls:n,zIndexPopup:r,colorText:o,colorWarning:i,marginXXS:l,marginXS:s,fontSize:c,fontWeightStrong:d,colorTextHeading:u}=e;return{[t]:{zIndex:r,[`&${n}-popover`]:{fontSize:c},[`${t}-message`]:{marginBottom:s,display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${t}-message-icon ${a}`]:{color:i,fontSize:c,lineHeight:1,marginInlineEnd:s},[`${t}-title`]:{fontWeight:d,color:u,"&:only-child":{fontWeight:"normal"}},[`${t}-description`]:{marginTop:l,color:o}},[`${t}-buttons`]:{textAlign:"end",whiteSpace:"nowrap",button:{marginInlineStart:s}}}}};var b=(0,x.I$)("Popconfirm",e=>y(e),e=>{let{zIndexPopupBase:t}=e;return{zIndexPopup:t+60}},{resetStyle:!1}),j=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)0>t.indexOf(n[r])&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]]);return a};let E=e=>{let{prefixCls:t,okButtonProps:a,cancelButtonProps:o,title:i,description:l,cancelText:s,okText:d,okType:h="primary",icon:x=n.createElement(r.Z,null),showCancel:y=!0,close:b,onConfirm:j,onCancel:E,onPopupClick:O}=e,{getPrefixCls:C}=n.useContext(c.E_),[Z]=(0,g.Z)("Popconfirm",v.Z.Popconfirm),w=(0,p.Z)(i),S=(0,p.Z)(l);return n.createElement("div",{className:"".concat(t,"-inner-content"),onClick:O},n.createElement("div",{className:"".concat(t,"-message")},x&&n.createElement("span",{className:"".concat(t,"-message-icon")},x),n.createElement("div",{className:"".concat(t,"-message-text")},w&&n.createElement("div",{className:"".concat(t,"-title")},w),S&&n.createElement("div",{className:"".concat(t,"-description")},S))),n.createElement("div",{className:"".concat(t,"-buttons")},y&&n.createElement(m.ZP,Object.assign({onClick:E,size:"small"},o),s||(null==Z?void 0:Z.cancelText)),n.createElement(u.Z,{buttonProps:Object.assign(Object.assign({size:"small"},(0,f.nx)(h)),a),actionFn:j,close:b,prefixCls:C("btn"),quitOnNullishReturnValue:!0,emitEvent:!0},d||(null==Z?void 0:Z.okText))))};var O=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)0>t.indexOf(n[r])&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]]);return a};let C=n.forwardRef((e,t)=>{var a,o;let{prefixCls:u,placement:p="top",trigger:m="click",okType:f="primary",icon:g=n.createElement(r.Z,null),children:v,overlayClassName:h,onOpenChange:x,onVisibleChange:y}=e,j=O(e,["prefixCls","placement","trigger","okType","icon","children","overlayClassName","onOpenChange","onVisibleChange"]),{getPrefixCls:C}=n.useContext(c.E_),[Z,w]=(0,l.Z)(!1,{value:null!==(a=e.open)&&void 0!==a?a:e.visible,defaultValue:null!==(o=e.defaultOpen)&&void 0!==o?o:e.defaultVisible}),S=(e,t)=>{w(e,!0),null==y||y(e),null==x||x(e,t)},k=C("popconfirm",u),N=i()(k,h),[P]=b(k);return P(n.createElement(d.Z,Object.assign({},(0,s.Z)(j,["title"]),{trigger:m,placement:p,onOpenChange:(t,a)=>{let{disabled:n=!1}=e;n||S(t,a)},open:Z,ref:t,overlayClassName:N,content:n.createElement(E,Object.assign({okType:f,icon:g},e,{prefixCls:k,close:e=>{S(!1,e)},onConfirm:t=>{var a;return null===(a=e.onConfirm)||void 0===a?void 0:a.call(void 0,t)},onCancel:t=>{var a;S(!1,t),null===(a=e.onCancel)||void 0===a||a.call(void 0,t)}})),"data-popover-inject":!0}),v))});C._InternalPanelDoNotUseOrYouWillBeFired=e=>{let{prefixCls:t,placement:a,className:r,style:o}=e,l=j(e,["prefixCls","placement","className","style"]),{getPrefixCls:s}=n.useContext(c.E_),d=s("popconfirm",t),[u]=b(d);return u(n.createElement(h.ZP,{placement:a,className:i()(d,r),style:o,content:n.createElement(E,Object.assign({prefixCls:d},l))}))};var Z=C},12972:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return b}});var n=a(57437),r=a(2265),o=a(65270),i=a(6180),l=a(13565),s=a(92503),c=a(80588),d=a(42154),u=a(47867),p=a(49135),m=a(89539),f=a.n(m),g=a(71126),v=a(47907),h=a(58856),x=a(73107);function y(e){let{evidence:t,alt:a}=e,[o,i]=r.useState(!1),[s,c]=r.useState(""),{data:d}=(0,g.useSession)();return r.useEffect(()=>{let e=async()=>{try{var e;let a=(await x.Z.get(t,{responseType:"blob",headers:{Authorization:"Bearer ".concat(null==d?void 0:null===(e=d.user)||void 0===e?void 0:e.access_token)}})).data;if(a instanceof Blob){let e=URL.createObjectURL(a);c(e)}}catch(e){}};d&&o&&e()},[t,d,o]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l.ZP,{className:"m-1",size:"small",onClick:()=>i(!0),children:"Show Video"}),(0,n.jsx)(h.Z,{title:"Video Preview",open:o,okText:"Close",footer:[(0,n.jsx)(l.ZP,{danger:!0,onClick:()=>i(!1),children:"Close"},"submit")],children:s?(0,n.jsxs)("video",{width:"100%",height:"300",controls:!0,children:[(0,n.jsx)("source",{src:s,type:"video/mp4"}),"Your browser does not support the video tag."]}):(0,n.jsx)(n.Fragment,{children:"Loading..."})})]})}function b(){let e=(0,v.useRouter)(),[t,a]=r.useState(0),m=[{title:"Nama Sekolah",dataIndex:"nama_sekolah"},{title:"Juara",dataIndex:"juara"},{title:"Nama Siswa",dataIndex:"nama_siswa"},{title:"Nama Instagram",dataIndex:"nama_instagram"},{title:"Video",dataIndex:"media_url",render:(e,t)=>{let{url_video:a,title:r}=t;return(0,n.jsx)(n.Fragment,{children:a?(0,n.jsx)(y,{evidence:a,alt:r}):""})}},{title:"Created Date",dataIndex:"created_at",render:(e,t)=>{let{created_at:a}=t;return(0,n.jsx)(n.Fragment,{children:f()(a).format("DD MMM YYYY, hh:mm")})}},{title:"Action",key:"action",render:(t,a)=>(0,n.jsxs)(o.Z,{size:"middle",children:[(0,n.jsx)(i.Z,{title:"edit",children:(0,n.jsx)(l.ZP,{shape:"circle",onClick:()=>e.push("/dashboard/video/edit?aa=".concat(a.id)),icon:(0,n.jsx)(u.FNg,{className:"w-5 h-5 text-sky-700"})})}),(0,n.jsx)(i.Z,{title:"delete",children:(0,n.jsx)(s.Z,{title:"Delete data",placement:"left",description:"Are you sure to delete this data?",onConfirm:()=>S(a.id),okText:"Yes",cancelText:"No",children:(0,n.jsx)(l.ZP,{shape:"circle",icon:(0,n.jsx)(u.v_0,{className:"w-5 h-5 text-red-500"})})})})]})}],[h,x]=r.useState(),[b,j]=r.useState(!1),[E,O]=c.ZP.useMessage();(0,v.useSearchParams)();let[C,Z]=r.useState({pagination:{current:1,pageSize:10,total:0}}),{data:w}=(0,g.useSession)(),S=async e=>{var t;let n=await (0,p.Z)("DELETE","".concat("https://sun.uzone.id/masterclass/","api/v1/cms/karya-siswa/?id=").concat(e),{},{accept:"application/json",Authorization:"Bearer ".concat(null==w?void 0:null===(t=w.user)||void 0===t?void 0:t.access_token)});E.open({type:"success",content:n.data.message}),a(Math.random())};return r.useEffect(()=>{let e=async()=>{var e;j(!0);let t=await (0,p.Z)("GET","".concat("https://sun.uzone.id/masterclass/","api/v1/cms/karya-siswa/"),{page:C.pagination.current,limit:C.pagination.pageSize},{accept:"application/json",Authorization:"Bearer ".concat(null==w?void 0:null===(e=w.user)||void 0===e?void 0:e.access_token)});j(!1),x(t.data.data.daftar_karya_siswa),Z({...C,pagination:{...C.pagination,total:t.data.data.total}})};w&&e()},[C.pagination.current,C.pagination.pageSize,t,w]),(0,n.jsxs)(n.Fragment,{children:[O,(0,n.jsx)(d.Z,{size:"small",columns:m,dataSource:h,loading:b,pagination:C.pagination,onChange:e=>{var t;Z({pagination:e}),e.pageSize!==(null===(t=C.pagination)||void 0===t?void 0:t.pageSize)&&x(null)},bordered:!0,footer:()=>"Total: ".concat(C.pagination.total||0),scroll:{x:"max-content"},className:"min-w-full"})]})}},49135:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});var n=a(73107);async function r(e,t,a,r){try{return await (0,n.Z)("GET"==e?{validateStatus:()=>!1,method:e,headers:r,url:t,params:a}:{validateStatus:()=>!1,method:e,headers:r,url:t,data:a}).catch(e=>e.response)}catch(e){return{data:e,status:500,statusText:"Internal Server Error",headers:{},config:{}}}}}},function(e){e.O(0,[5104,3429,9005,1126,2698,1537,3565,1618,6624,588,2355,3107,3080,577,4456,1342,2154,2971,8069,1744],function(){return e(e.s=88801)}),_N_E=e.O()}]);