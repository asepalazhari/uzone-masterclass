(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5852],{63335:function(e,t,s){Promise.resolve().then(s.bind(s,40531))},40531:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return m}});var i=s(57437),a=s(2265),r=s(61415),n=s(1881),l=s(80588),o=s(66577),d=s(13565),u=s(71126),c=s(49135),p=s(47907);function m(){let{TextArea:e}=r.default,[t]=n.Z.useForm(),[s,m]=a.useState(!1),[h,f]=l.ZP.useMessage(),{data:v}=(0,u.useSession)(),g=(0,p.useRouter)(),x=async e=>{var s;m(!0);let i=new FormData;i.append("title",e.title),i.append("description",e.description),e.file&&e.file.fileList.length>0&&i.append("file",e.file.fileList[0].originFileObj);let a=await (0,c.Z)("POST","".concat("https://sun.uzone.id/masterclass/","api/v1/cms/media/"),i,{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(null==v?void 0:null===(s=v.user)||void 0===s?void 0:s.access_token)});201==a.status?(h.open({type:"success",content:a.data.message}),t.resetFields(),g.push("/dashboard/video/list")):h.open({type:"error",content:"Failed to insert data"}),m(!1)};return(0,i.jsxs)(i.Fragment,{children:[f,(0,i.jsxs)(n.Z,{name:"basic",layout:"vertical",onFinish:x,autoComplete:"off",children:[(0,i.jsx)(n.Z.Item,{label:"Title",name:"title",rules:[{required:!0,message:"Please input title"}],children:(0,i.jsx)(r.default,{placeholder:"Title",size:"large"})}),(0,i.jsx)(n.Z.Item,{label:"Description",name:"description",rules:[{required:!0,message:"Please input description"}],children:(0,i.jsx)(e,{placeholder:"Description",rows:4,size:"large"})}),(0,i.jsx)(n.Z.Item,{label:"Video",name:"file",rules:[{required:!0,message:"Please upload evidence"}],children:(0,i.jsx)(o.Z,{listType:"picture-card",accept:"video/*",maxCount:1,multiple:!0,beforeUpload:()=>!1,children:(0,i.jsxs)("div",{children:["+",(0,i.jsx)("div",{style:{marginTop:8},children:"Upload"})]})})}),(0,i.jsx)(n.Z.Item,{children:(0,i.jsx)(d.ZP,{loading:s,type:"primary",htmlType:"submit",danger:!0,children:"Submit"})})]})]})}},49135:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});var i=s(73107);async function a(e,t,s,a){try{return await (0,i.Z)("GET"==e?{validateStatus:()=>!1,method:e,headers:a,url:t,params:s}:{validateStatus:()=>!1,method:e,headers:a,url:t,data:s}).catch(e=>e.response)}catch(e){return{data:e,status:500,statusText:"Internal Server Error",headers:{},config:{}}}}}},function(e){e.O(0,[9098,429,1126,2698,916,3565,1618,588,3107,1881,6577,2971,8069,1744],function(){return e(e.s=63335)}),_N_E=e.O()}]);