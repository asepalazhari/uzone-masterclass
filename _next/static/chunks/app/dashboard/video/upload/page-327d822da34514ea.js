(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5852],{63335:function(e,t,i){Promise.resolve().then(i.bind(i,40531))},40531:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return m}});var s=i(57437),a=i(2265),r=i(61415),n=i(1881),l=i(80588),o=i(66577),d=i(13565),u=i(71126),c=i(49135),p=i(47907);function m(){let{TextArea:e}=r.default,[t]=n.Z.useForm(),[i,m]=a.useState(!1),[h,f]=l.ZP.useMessage(),{data:v}=(0,u.useSession)(),g=(0,p.useRouter)(),x=async e=>{var i;m(!0);let s=new FormData;s.append("title",e.title),s.append("description",e.description),e.file&&e.file.fileList.length>0&&s.append("file",e.file.fileList[0].originFileObj);let a=await (0,c.Z)("POST","".concat("https://sun.uzone.id/masterclass/","api/v1/media/"),s,{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(null==v?void 0:null===(i=v.user)||void 0===i?void 0:i.access_token)});201==a.status?(h.open({type:"success",content:a.data.message}),t.resetFields(),g.push("/dashboard/video/list")):h.open({type:"error",content:"Failed to insert data"}),m(!1)};return(0,s.jsxs)(s.Fragment,{children:[f,(0,s.jsxs)(n.Z,{name:"basic",layout:"vertical",onFinish:x,autoComplete:"off",children:[(0,s.jsx)(n.Z.Item,{label:"Title",name:"title",rules:[{required:!0,message:"Please input title"}],children:(0,s.jsx)(r.default,{placeholder:"Title",size:"large"})}),(0,s.jsx)(n.Z.Item,{label:"Description",name:"description",rules:[{required:!0,message:"Please input description"}],children:(0,s.jsx)(e,{placeholder:"Description",rows:4,size:"large"})}),(0,s.jsx)(n.Z.Item,{label:"Video",name:"file",rules:[{required:!0,message:"Please upload evidence"}],children:(0,s.jsx)(o.Z,{listType:"picture-card",accept:"video/*",maxCount:1,multiple:!0,beforeUpload:()=>!1,children:(0,s.jsxs)("div",{children:["+",(0,s.jsx)("div",{style:{marginTop:8},children:"Upload"})]})})}),(0,s.jsx)(n.Z.Item,{children:(0,s.jsx)(d.ZP,{loading:i,type:"primary",htmlType:"submit",danger:!0,children:"Submit"})})]})]})}},49135:function(e,t,i){"use strict";i.d(t,{Z:function(){return a}});var s=i(73107);async function a(e,t,i,a){try{return await (0,s.Z)("GET"==e?{validateStatus:()=>!1,method:e,headers:a,url:t,params:i}:{validateStatus:()=>!1,method:e,headers:a,url:t,data:i}).catch(e=>e.response)}catch(e){return{data:e,status:500,statusText:"Internal Server Error",headers:{},config:{}}}}}},function(e){e.O(0,[9098,429,1126,2698,916,3565,1618,588,3107,1881,6577,2971,8069,1744],function(){return e(e.s=63335)}),_N_E=e.O()}]);